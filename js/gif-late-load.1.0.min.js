// Gif late-load with pause control 
(function(g,d){function k(c,a){var b=new Image;a.a=a.src;a.b=c;b.addEventListener("load",function(){l(b,a);var c=a.parentElement,f=d.createElement("button");f.c=a;f.className="btn-anim btn-anim-on";f.appendChild(h("icon-pause","Pause animation"));f.addEventListener("click",m,!1);c.appendChild(f)},!1);b.src=c}function m(c){var a=c.target,b=c.target.c;g.requestAnimationFrame(function(){b.src===b.a?(b.src=b.b,a.className=a.className.replace("btn-anim","btn-anim btn-anim-on"),a.textContent="",a.appendChild(h("icon-pause","Pause animation"))):(b.src=b.a,a.className=a.className.replace("btn-anim btn-anim-on","btn-anim"),a.textContent="",a.appendChild(h("icon-play","Play animation")))})}function l(c,a){g.requestAnimationFrame(function(){a.src=c.src})}function h(c,a){var b=d.createElementNS("http://www.w3.org/2000/svg","svg");b.setAttribute("class","svg-pausePlay");b.setAttribute("focusable","false");if(a){var e=d.createElementNS("http://www.w3.org/2000/svg","title");e.textContent=a;b.appendChild(e)}e=d.createElementNS("http://www.w3.org/2000/svg","use");e.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+c);b.appendChild(e);return b}g.addEventListener("load",function(){for(var c=d.querySelectorAll("[data-gif]"),a=c.length;a--;)k(c[a].getAttribute("data-gif"),c[a])},!1)})(window,document);